<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema Turso + GitHub Pages</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üöÄ Sistema Turso + GitHub Pages</h1>
            <p class="subtitle">Seu ecossistema de dados na web</p>
        </header>

        <!-- Status da Conex√£o -->
        <div class="status-card" id="statusCard">
            <div class="status-indicator">
                <span class="status-dot" id="statusDot"></span>
                <span id="statusText">Verificando conex√£o...</span>
            </div>
        </div>

        <!-- Se√ß√£o de Configura√ß√£o -->
        <section class="config-section" id="configSection">
            <h2>‚öôÔ∏è Configura√ß√£o do Banco de Dados</h2>
            <div class="info-box">
                <p><strong>Primeira vez aqui?</strong> Voc√™ precisa configurar suas credenciais do Turso.</p>
                <a href="#tutorial" class="link">Ver tutorial completo abaixo ‚Üì</a>
            </div>

            <form id="configForm">
                <div class="form-group">
                    <label for="dbUrl">URL do Banco Turso:</label>
                    <input
                        type="text"
                        id="dbUrl"
                        placeholder="libsql://germanirepositor-genaroforratig365-pixel.aws-us-east-1.turso.io"
                        required
                    >
                    <small>Exemplo: libsql://meu-banco-123.turso.io</small>
                </div>

                <div class="form-group">
                    <label for="authToken">Token de Autentica√ß√£o:</label>
                    <input
                        type="password"
                        id="authToken"
                        placeholder="eyJhbGciOiJFZERTQSIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJHc3ZDWmRCb0VmQ3ZRaTctU01UclRBIn0.RnkL3g7o1qcmFUVACYh8M_12S-qooXdruqdmjDd1dRCnBLWZoLP3oTjRcN7L_qJQ-xrEMmhWidgSSjJg9kryDw"
                        required
                    >
                    <small>Ser√° armazenado localmente no seu navegador</small>
                </div>

                <button type="submit" class="btn btn-primary">üíæ Salvar Configura√ß√£o</button>
            </form>
        </section>

        <!-- Se√ß√£o Principal da Aplica√ß√£o -->
        <section class="main-section" id="mainSection" style="display: none;">
            <h2>üìä Gerenciamento de Dados</h2>

            <!-- Formul√°rio para Adicionar Dados -->
            <div class="card">
                <h3>‚ûï Adicionar Novo Item</h3>
                <form id="addItemForm">
                    <div class="form-group">
                        <label for="itemName">Nome:</label>
                        <input type="text" id="itemName" placeholder="Digite o nome" required>
                    </div>

                    <div class="form-group">
                        <label for="itemDescription">Descri√ß√£o:</label>
                        <textarea id="itemDescription" placeholder="Digite uma descri√ß√£o" rows="3"></textarea>
                    </div>

                    <button type="submit" class="btn btn-success">‚úÖ Adicionar</button>
                </form>
            </div>

            <!-- Lista de Dados -->
            <div class="card">
                <h3>üìã Seus Dados</h3>
                <button class="btn btn-secondary" id="refreshBtn">üîÑ Atualizar</button>

                <div id="itemsList" class="items-list">
                    <p class="loading">Carregando dados...</p>
                </div>
            </div>
        </section>

        <!-- Tutorial -->
        <section class="tutorial-section" id="tutorial">
            <h2>üìñ Tutorial: Como Configurar</h2>

            <div class="tutorial-step">
                <h3>Passo 1: Criar conta no Turso</h3>
                <ol>
                    <li>Acesse: <a href="https://turso.tech" target="_blank">https://turso.tech</a></li>
                    <li>Clique em "Sign Up" e crie sua conta (gratuita)</li>
                    <li>Fa√ßa login na plataforma</li>
                </ol>
            </div>

            <div class="tutorial-step">
                <h3>Passo 2: Instalar Turso CLI (no seu computador)</h3>
                <div class="code-block">
                    <code>curl -sSfL https://get.tur.so/install.sh | bash</code>
                </div>
                <p>Ou no Windows (PowerShell):</p>
                <div class="code-block">
                    <code>irm get.tur.so/install.ps1 | iex</code>
                </div>
            </div>

            <div class="tutorial-step">
                <h3>Passo 3: Fazer login no Turso CLI</h3>
                <div class="code-block">
                    <code>turso auth login</code>
                </div>
            </div>

            <div class="tutorial-step">
                <h3>Passo 4: Criar seu banco de dados</h3>
                <div class="code-block">
                    <code>turso db create meu-primeiro-banco</code>
                </div>
            </div>

            <div class="tutorial-step">
                <h3>Passo 5: Obter a URL do banco</h3>
                <div class="code-block">
                    <code>turso db show meu-primeiro-banco --url</code>
                </div>
                <p>Copie a URL que aparece (exemplo: libsql://meu-primeiro-banco-123.turso.io)</p>
            </div>

            <div class="tutorial-step">
                <h3>Passo 6: Criar um token de autentica√ß√£o</h3>
                <div class="code-block">
                    <code>turso db tokens create meu-primeiro-banco</code>
                </div>
                <p>Copie o token que aparece</p>
            </div>

            <div class="tutorial-step">
                <h3>Passo 7: Configurar nesta p√°gina</h3>
                <p>Cole a URL e o Token nos campos acima e clique em "Salvar Configura√ß√£o"</p>
            </div>

            <div class="info-box">
                <strong>üîí Seguran√ßa:</strong> Suas credenciais s√£o salvas apenas no seu navegador (localStorage) e nunca s√£o enviadas para ningu√©m al√©m do Turso.
            </div>
        </section>

        <footer>
            <p>Desenvolvido com ‚ù§Ô∏è | Turso + GitHub Pages</p>
        </footer>
    </div>

    <!-- Scripts -->
    <script type="module" src="js/db.js"></script>
    <script type="module" src="js/app.js"></script>
</body>
</html>
